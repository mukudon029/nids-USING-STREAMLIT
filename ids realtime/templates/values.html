{% extends "layout.html" %}

{% block content %}
    <h2>THE GHOST PICKER DASHBOARD</h2>

    <p>Model Accuracy: {{ accuracy }}%</p>

    <h3>Network Traffic Analysis</h3>
    <div id="traffic-table">
        <!-- The table will be loaded here -->
    </div>

    <script>
        // Function to fetch and update the traffic data
        function updateTrafficData() {
            fetch("{{ url_for('update_traffic_data') }}")
                .then(response => response.text())
                .then(html => {
                    document.getElementById('traffic-table').innerHTML = html;
                });
        }

        // Update traffic data every 3 seconds
        setInterval(updateTrafficData, 3000);

        // Initial load
        updateTrafficData();
    </script>
{% endblock %}
